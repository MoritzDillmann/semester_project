<!DOCTYPE html>
<html>

<head>
  <title>Generate QR Code</title>
  <style>
    *,
    html {
        margin: 0;
        padding: 0;
        border: 0;
    }

    html {
        width: 100%;
        height: 100%;
    }

    body {
        width: 100%;
        height: 100%;
        position: relative;
        background-color: rgb(32, 119, 233);
    }

    .center {
        width: 100%;
        height: 50%;
        margin: 0;
        position: absolute;
        top: 35%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-family: "Trebuchet MS", Helvetica, sans-serif;
        text-align: center;
    }

    h1 {
        font-size: 80px;
    }

    p {
        font-size: 20px;
    }
    
    button { 
        display: inline-block;
        background-color: #fff;
        border-radius: 10px;
        border: 4px double rgb(32, 119, 233);
        color: rgb(32, 119, 233);
        text-align: center;
        font-size: 20px;
        padding: 15px;
        width: 200px;
        -webkit-transition: all 0.5s;
        -moz-transition: all 0.5s;
        -o-transition: all 0.5s;
        transition: all 0.5s;
        cursor: pointer;
        margin: 5px;
    }
    </style>
</head>

<body>
  <script>
    //-------------- Detecting MetaMask's web3 injection -------------------
    // ...
    // ----------------------------------------------------------------------------
    // make an http request to the server
    function Myfunction() {
        const Http = new XMLHttpRequest();
        const url='http://localhost:3000/generateqrcode';
        Http.open("GET", url);
        Http.send();

        Http.onreadystatechange = (e) => {
        console.log(Http.responseText)
            
        var image = document.createElement('img');
        image.onload = function() {
            placeholder.innerHTML = '';
            placeholder.appendChild(this);
        }
        var placeholder = document.querySelector("#image-placeholder");
        image.src = Http.responseText;
        }
    };
  </script>
  <div class="center">
    <h1>Hello again!</h1>
    <br>
    <br> 
    <p>Dear supermarket staff, <br>
         please click the button to generate a QR code.</p>
    <br>
    <p>The customer can then scan the QR code with a smartphone.</p> 
    <br> 
    <br><br>
    <button type = "button" onclick = "Myfunction()" value = >Click me!
    </button>
    <br><br><br>
    <div id="image-placeholder">
    </div>
  </div>


</body>

</html>